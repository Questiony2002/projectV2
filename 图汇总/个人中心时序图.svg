<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="600" version="1.1">
  <title>个人中心功能时序图</title>
  
  <!-- 参与者标题 -->
  <rect x="50" y="30" width="100" height="40" rx="5" ry="5" fill="white" stroke="black" stroke-width="2" />
  <text x="100" y="55" font-family="SimSun" font-size="10.5" text-anchor="middle">用户</text>
  
  <rect x="200" y="30" width="100" height="40" rx="5" ry="5" fill="white" stroke="black" stroke-width="2" />
  <text x="250" y="55" font-family="SimSun" font-size="10.5" text-anchor="middle">客户端</text>
  
  <rect x="350" y="30" width="100" height="40" rx="5" ry="5" fill="white" stroke="black" stroke-width="2" />
  <text x="400" y="55" font-family="SimSun" font-size="10.5" text-anchor="middle">用户控制器</text>
  
  <rect x="500" y="30" width="100" height="40" rx="5" ry="5" fill="white" stroke="black" stroke-width="2" />
  <text x="550" y="55" font-family="SimSun" font-size="10.5" text-anchor="middle">用户服务</text>
  
  <rect x="650" y="30" width="100" height="40" rx="5" ry="5" fill="white" stroke="black" stroke-width="2" />
  <text x="700" y="55" font-family="SimSun" font-size="10.5" text-anchor="middle">数据库</text>
  
  <!-- 生命线 -->
  <line x1="100" x2="100" y1="70" y2="550" stroke="black" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="250"  x2="250" y1="70" y2="550" stroke="black" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="400" x2="400" y1="70" y2="550" stroke="black" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="550" x2="550" y1="70" y2="550" stroke="black" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="700" x2="700" y1="70" y2="550" stroke="black" stroke-width="1" stroke-dasharray="5,5" />
  
  <!-- 1. 用户打开个人中心 -->
  <line x1="100" y1="100" x2="250" y2="100" stroke="black" stroke-width="2" />
  <polygon points="245,95 250,100 245,105" fill="black" />
  <text x="175" y="95" font-family="SimSun" font-size="10.5">1: 打开个人中心</text>
  
  <!-- 激活客户端 -->
  <rect x="245" y="100" width="10" height="440" fill="white" stroke="black" stroke-width="1" />
  
  <!-- 2. 请求获取用户信息 -->
  <line x1="255" y1="120" x2="400" y2="120" stroke="black" stroke-width="2" />
  <polygon points="395,115 400,120 395,125" fill="black" />
  <text x="327" y="115" font-family="SimSun" font-size="10.5">2: 请求获取用户信息</text>
  
  <!-- 激活用户控制器 -->
  <rect x="395" y="120" width="10" height="400" fill="white" stroke="black" stroke-width="1" />
  
  <!-- 3. 调用用户服务 -->
  <line x1="405" y1="140" x2="550" y2="140" stroke="black" stroke-width="2" />
  <polygon points="545,135 550,140 545,145" fill="black" />
  <text x="477" y="135" font-family="SimSun" font-size="10.5">3: 调用用户服务</text>
  
  <!-- 激活用户服务 -->
  <rect x="545" y="140" width="10" height="380" fill="white" stroke="black" stroke-width="1" />
  
  <!-- 4. 查询数据库 -->
  <line x1="555" y1="160" x2="700" y2="160" stroke="black" stroke-width="2" />
  <polygon points="695,155 700,160 695,165" fill="black" />
  <text x="627" y="155" font-family="SimSun" font-size="10.5">4: 查询用户信息</text>
  
  <!-- 激活数据库 -->
  <rect x="695" y="160" width="10" height="40" fill="white" stroke="black" stroke-width="1" />
  
  <!-- 5. 返回用户数据 -->
  <line x1="695" y1="200" x2="555" y2="200" stroke="black" stroke-width="2" />
  <polygon points="560,195 555,200 560,205" fill="black" />
  <text x="625" y="195" font-family="SimSun" font-size="10.5">5: 返回用户数据</text>
  
  <!-- 6. 返回用户信息 -->
  <line x1="545" y1="220" x2="405" y2="220" stroke="black" stroke-width="2" />
  <polygon points="410,215 405,220 410,225" fill="black" />
  <text x="475" y="215" font-family="SimSun" font-size="10.5">6: 返回用户信息</text>
  
  <!-- 7. 返回HTTP响应 -->
  <line x1="395" y1="240" x2="255" y2="240" stroke="black" stroke-width="2" />
  <polygon points="260,235 255,240 260,245" fill="black" />
  <text x="325" y="235" font-family="SimSun" font-size="10.5">7: 返回HTTP响应</text>
  
  <!-- 8. 更新UI显示 -->
  <line x1="245" y1="260" x2="100" y2="260" stroke="black" stroke-width="2" />
  <polygon points="105,255 100,260 105,265" fill="black" />
  <text x="172" y="255" font-family="SimSun" font-size="10.5">8: 更新UI显示</text>
  
  <!-- 9. 用户修改信息 -->
  <line x1="100" y1="300" x2="250" y2="300" stroke="black" stroke-width="2" />
  <polygon points="245,295 250,300 245,305" fill="black" />
  <text x="175" y="295" font-family="SimSun" font-size="10.5">9: 修改用户信息</text>
  
  <!-- 10. 请求更新信息 -->
  <line x1="255" y1="320" x2="400" y2="320" stroke="black" stroke-width="2" />
  <polygon points="395,315 400,320 395,325" fill="black" />
  <text x="327" y="315" font-family="SimSun" font-size="10.5">10: 请求更新信息</text>
  
  <!-- 11. 调用更新服务 -->
  <line x1="405" y1="340" x2="550" y2="340" stroke="black" stroke-width="2" />
  <polygon points="545,335 550,340 545,345" fill="black" />
  <text x="477" y="335" font-family="SimSun" font-size="10.5">11: 调用更新服务</text>
  
  <!-- 12. 更新数据库 -->
  <line x1="555" y1="360" x2="700" y2="360" stroke="black" stroke-width="2" />
  <polygon points="695,355 700,360 695,365" fill="black" />
  <text x="627" y="355" font-family="SimSun" font-size="10.5">12: 更新用户信息</text>
  
  <!-- 激活数据库 -->
  <rect x="695" y="360" width="10" height="40" fill="white" stroke="black" stroke-width="1" />
  
  <!-- 13. 确认更新成功 -->
  <line x1="695" y1="400" x2="555" y2="400" stroke="black" stroke-width="2" />
  <polygon points="560,395 555,400 560,405" fill="black" />
  <text x="625" y="395" font-family="SimSun" font-size="10.5">13: 确认更新成功</text>
  
  <!-- 14. 返回更新结果 -->
  <line x1="545" y1="420" x2="405" y2="420" stroke="black" stroke-width="2" />
  <polygon points="410,415 405,420 410,425" fill="black" />
  <text x="475" y="415" font-family="SimSun" font-size="10.5">14: 返回更新结果</text>
  
  <!-- 15. 返回HTTP响应 -->
  <line x1="395" y1="440" x2="255" y2="440" stroke="black" stroke-width="2" />
  <polygon points="260,435 255,440 260,445" fill="black" />
  <text x="325" y="435" font-family="SimSun" font-size="10.5">15: 返回HTTP响应</text>
  
  <!-- 16. 更新UI显示 -->
  <line x1="245" y1="460" x2="100" y2="460" stroke="black" stroke-width="2" />
  <polygon points="105,455 100,460 105,465" fill="black" />
  <text x="172" y="455" font-family="SimSun" font-size="10.5">16: 更新UI显示</text>
  
  <!-- 17. 用户上传头像 -->
  <line x1="100" y1="500" x2="250" y2="500" stroke="black" stroke-width="2" />
  <polygon points="245,495 250,500 245,505" fill="black" />
  <text x="175" y="495" font-family="SimSun" font-size="10.5">17: 上传头像</text>
  
  <!-- 18. 请求上传头像 -->
  <line x1="255" y1="520" x2="400" y2="520" stroke="black" stroke-width="2" />
  <polygon points="395,515 400,520 395,525" fill="black" />
  <text x="327" y="515" font-family="SimSun" font-size="10.5">18: 请求上传头像</text>
  
  <!-- 19. 保存头像文件 -->
  <line x1="405" y1="540" x2="550" y2="540" stroke="black" stroke-width="2" />
  <polygon points="545,535 550,540 545,545" fill="black" />
  <text x="477" y="535" font-family="SimSun" font-size="10.5">19: 保存头像文件</text>
  
  <!-- 20. 更新用户头像URL -->
  <line x1="555" y1="560" x2="700" y2="560" stroke="black" stroke-width="2" />
  <polygon points="695,555 700,560 695,565" fill="black" />
  <text x="627" y="555" font-family="SimSun" font-size="10.5">20: 更新头像URL</text>
</svg> 