<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <style>
    @font-face { font-family: "SimSun"; src: local("SimSun"); }
    @font-face { font-family: "Times New Roman"; src: local("Times New Roman"); }
    .title { font-family: "SimSun", serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
    .node-text { font-family: "SimSun", serif; font-size: 12px; text-anchor: middle; }
    .node { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .decision { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .start-end { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .arrow { stroke: #000; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
    .arrow-text { font-family: "SimSun", serif; font-size: 11px; text-anchor: middle; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>
  <rect width="100%" height="100%" fill="white" />
  <!-- 开始节点 -->
  <ellipse cx="400" cy="60" rx="60" ry="25" class="start-end" />
  <text x="400" y="65" class="node-text">开始</text>
  <!-- 加载历史记录 -->
  <rect x="325" y="110" width="150" height="40" rx="5" ry="5" class="node" />
  <text x="400" y="135" class="node-text">加载历史消息</text>
  <!-- 用户输入消息 -->
  <rect x="325" y="180" width="150" height="40" rx="5" ry="5" class="node" />
  <text x="400" y="205" class="node-text">用户输入消息</text>
  <!-- 本地保存用户消息 -->
  <rect x="150" y="250" width="150" height="40" rx="5" ry="5" class="node" />
  <text x="225" y="275" class="node-text">本地保存消息</text>
  <!-- 发送消息到AI -->
  <rect x="500" y="250" width="150" height="40" rx="5" ry="5" class="node" />
  <text x="575" y="275" class="node-text">发送消息到AI</text>
  <!-- AI生成回复 -->
  <rect x="500" y="320" width="150" height="40" rx="5" ry="5" class="node" />
  <text x="575" y="345" class="node-text">AI生成回复</text>
  <!-- 本地保存AI消息 -->
  <rect x="500" y="390" width="150" height="40" rx="5" ry="5" class="node" />
  <text x="575" y="415" class="node-text">本地保存AI消息</text>
  <!-- 展示消息 -->
  <rect x="325" y="470" width="150" height="40" rx="5" ry="5" class="node" />
  <text x="400" y="495" class="node-text">界面展示消息</text>
  <!-- 结束节点 -->
  <ellipse cx="400" cy="560" rx="60" ry="25" class="start-end" />
  <text x="400" y="565" class="node-text">结束</text>
  <!-- 连线 -->
  <path d="M400,85 L400,110" class="arrow" />
  <path d="M400,150 L400,180" class="arrow" />
  <path d="M400,220 L225,250" class="arrow" />
  <text x="300" y="235" class="arrow-text">本地存储</text>
  <path d="M400,220 L575,250" class="arrow" />
  <text x="500" y="235" class="arrow-text">AI处理</text>
  <path d="M575,290 L575,320" class="arrow" />
  <path d="M575,360 L575,390" class="arrow" />
  <path d="M575,430 L400,470" class="arrow" />
  <text x="500" y="455" class="arrow-text">展示</text>
  <path d="M225,290 L400,470" class="arrow" />
  <path d="M400,510 L400,535" class="arrow" />
</svg> 