<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <style>
    @font-face { font-family: "SimSun"; src: local("SimSun"); }
    @font-face { font-family: "Times New Roman"; src: local("Times New Roman"); }
    .title { font-family: "SimSun", serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
    .class-title { font-family: "SimSun", serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
    .class-text { font-family: "SimSun", serif; font-size: 12px; text-anchor: start; }
    .method-text { font-family: "SimSun", serif; font-size: 12px; text-anchor: start; }
    .relationship-text { font-family: "SimSun", serif; font-size: 11px; text-anchor: middle; }
    .class-box { fill: #ffffff; stroke: #000000; stroke-width: 1.5; }
    .entity-class { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .controller-class { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .service-class { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .dto-class { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .other-class { fill: #fff; stroke: #000; stroke-width: 1.5; }
    .line { stroke: #000000; stroke-width: 1.5; fill: none; }
    .dashed-line { stroke: #000000; stroke-width: 1.5; fill: none; stroke-dasharray: 5,3; }
    .arrow { fill: #000000; }
    .diamond { fill: white; stroke: #000000; stroke-width: 1.5; }
  </style>
  <rect width="100%" height="100%" fill="white" />
  <!-- SCL90Result实体类 -->
  <rect x="50" y="60" width="200" height="170" rx="5" ry="5" class="entity-class" />
  <line x1="50" y1="85" x2="250" y2="85" class="line" />
  <line x1="50" y1="170" x2="250" y2="170" class="line" />
  <text x="150" y="75" class="class-title">SCL90Result</text>
  <text x="60" y="100" class="class-text">- id: Long</text>
  <text x="60" y="115" class="class-text">- userId: Long</text>
  <text x="60" y="130" class="class-text">- totalScore: int</text>
  <text x="60" y="145" class="class-text">- factorScores: Map</text>
  <text x="60" y="160" class="class-text">- createdAt: Date</text>
  <text x="60" y="185" class="method-text">+ getters/setters</text>
  <text x="60" y="200" class="method-text">+ SCL90Result()</text>
  <text x="60" y="215" class="method-text">+ calculateTotalScore(): int</text>
  
  <!-- SCL90ResultDTO类 -->
  <rect x="50" y="270" width="200" height="135" rx="5" ry="5" class="dto-class" />
  <line x1="50" y1="295" x2="250" y2="295" class="line" />
  <line x1="50" y1="355" x2="250" y2="355" class="line" />
  <text x="150" y="285" class="class-title">SCL90ResultDTO</text>
  <text x="60" y="310" class="class-text">- userId: Long</text>
  <text x="60" y="325" class="class-text">- totalScore: int</text>
  <text x="60" y="340" class="class-text">- factorScores: Map</text>
  <text x="60" y="370" class="method-text">+ getters/setters</text>
  <text x="60" y="385" class="method-text">+ SCL90ResultDTO()</text>
  
  <!-- SCL90Service接口 -->
  <rect x="300" y="60" width="220" height="100" rx="5" ry="5" class="service-class" />
  <line x1="300" y1="85" x2="520" y2="85" class="line" />
  <text x="410" y="75" class="class-title">SCL90Service</text>
  <text x="310" y="100" class="method-text">+ saveResult(SCL90ResultDTO): SCL90Result</text>
  <text x="310" y="115" class="method-text">+ getResultByUserId(Long): Optional&lt;SCL90Result&gt;</text>
  <text x="310" y="130" class="method-text">+ getAllQuestions(): List&lt;Question&gt;</text>
  
  <!-- SCL90Controller类 -->
  <rect x="300" y="200" width="220" height="130" rx="5" ry="5" class="controller-class" />
  <line x1="300" y1="225" x2="520" y2="225" class="line" />
  <text x="410" y="215" class="class-title">SCL90Controller</text>
  <text x="310" y="240" class="method-text">+ getAllQuestions(): List&lt;Question&gt;</text>
  <text x="310" y="255" class="method-text">+ saveResult(SCL90ResultDTO): SCL90Result</text>
  <text x="310" y="270" class="method-text">+ getResultByUserId(Long): SCL90Result</text>
  <text x="310" y="285" class="method-text">+ getFactorDetails(Long): Map</text>
  <text x="310" y="300" class="method-text">+ exportResult(Long): ResponseEntity</text>
  
  <!-- MbtiService接口 -->
  <rect x="570" y="60" width="180" height="100" rx="5" ry="5" class="service-class" />
  <line x1="570" y1="85" x2="750" y2="85" class="line" />
  <text x="660" y="75" class="class-title">MbtiService</text>
  <text x="580" y="100" class="method-text">+ getQuestions(): List&lt;Question&gt;</text>
  <text x="580" y="115" class="method-text">+ getType(String): MbtiTypeDTO</text>
  <text x="580" y="130" class="method-text">+ saveResult(MbtiResultDTO): void</text>
  
  <!-- MbtiController类 -->
  <rect x="570" y="200" width="180" height="130" rx="5" ry="5" class="controller-class" />
  <line x1="570" y1="225" x2="750" y2="225" class="line" />
  <text x="660" y="215" class="class-title">MbtiController</text>
  <text x="580" y="240" class="method-text">+ getQuestions(): List&lt;Question&gt;</text>
  <text x="580" y="255" class="method-text">+ getType(String): MbtiTypeDTO</text>
  <text x="580" y="270" class="method-text">+ saveResult(MbtiResultDTO): void</text>
  <text x="580" y="285" class="method-text">+ getUserResults(Long): List</text>
  <text x="580" y="300" class="method-text">+ getTypeDescription(String): String</text>
  
  <!-- 类之间的关系 - 调整连接线避免交叉 -->
  <!-- Controller使用Service -->
  <path d="M410,200 L410,160" stroke="#000" stroke-width="1.5" marker-end="url(#uses)" fill="none"/>
  <text x="430" y="180" class="relationship-text">Uses</text>
  
  <path d="M660,200 L660,160" stroke="#000" stroke-width="1.5" marker-end="url(#uses)" fill="none"/>
  <text x="680" y="180" class="relationship-text">Uses</text>
  
  <!-- Service操作实体 -->
  <path d="M300,110 L275,110" stroke="#000" stroke-width="1.5" marker-end="url(#uses)" fill="none"/>
  <text x="275" y="100" class="relationship-text">Operates</text>
  
  <!-- DTO与实体的转换 -->
  <path d="M125,270 L125,230" stroke="#000" stroke-width="1.5" marker-end="url(#transforms)" fill="none"/>
  <text x="140" y="250" class="relationship-text">Transforms</text>
  
  <defs>
    <marker id="uses" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto">
      <polygon points="0,0 10,5 0,10" fill="#000"/>
    </marker>
    <marker id="transforms" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto">
      <polygon points="0,0 10,5 0,10" fill="#000"/>
    </marker>
  </defs>
</svg> 