@startuml

skinparam monochrome true
skinparam defaultFontName "Times New Roman"
skinparam classAttributeIconSize 0
skinparam shadowing false

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}

skinparam classFontName "Times New Roman"
skinparam classAttributeFontName "Times New Roman"
skinparam classStereotypeFontName "Times New Roman"

class User {
    - id: long
    - username: String
    - phoneNumber: String
    - password: String
    + getters/setters()
}

class LoginActivity {
    - authViewModel: AuthViewModel
    + onCreate(): void
    + onLoginClick(): void
    + navigateToRegister(): void
}

class RegisterActivity {
    - authViewModel: AuthViewModel
    + onCreate(): void
    + onRegisterClick(): void
    + validateInput(): boolean
}

class AuthViewModel {
    - authRepository: AuthRepository
    - _loginResult: MutableLiveData<Result<User>>
    + login(String, String): LiveData<Result<User>>
    + register(User): LiveData<Result<User>>
}

class AuthRepository {
    - apiService: ApiService
    - userDao: UserDao
    + loginUser(String, String): User
    + registerUser(User): User
    + saveUserLocally(User): void
}

LoginActivity --> AuthViewModel : uses
RegisterActivity --> AuthViewModel : uses
AuthViewModel --> AuthRepository : uses
AuthRepository --> User : manages

@enduml 